{"ast":null,"code":"// src/firebase/goalService.js\nimport { v4 as uuidv4 } from 'uuid'; // Імпортуємо uuid\nimport { collection, doc, setDoc,\n// Використовуємо setDoc, щоб задати ID вручну\ngetDoc, getDocs, updateDoc, deleteDoc, query, where } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\n// Створення нової цілі\nexport const createGoal = async goal => {\n  const id = uuidv4(); // Генерація унікального ID за допомогою uuid\n  const goalWithId = {\n    ...goal,\n    id\n  }; // Додаємо id до об'єкта цілі\n  const goalRef = doc(db, \"goals\", id); // Одержуємо посилання на документ з бажаним ID\n  await setDoc(goalRef, goalWithId); // Додаємо ціль у Firestore з явно заданим ID\n  return {\n    id,\n    ...goalWithId\n  }; // Повертаємо згенеровану ціль з ID\n};\n\n// Отримання цілі за ID\nexport const getGoalById = async id => {\n  const docRef = doc(db, \"goals\", id);\n  const snap = await getDoc(docRef);\n  return snap.exists() ? {\n    id,\n    ...snap.data()\n  } : null;\n};\n\n// Отримання всіх цілей користувача\nexport const getUserGoals = async userId => {\n  const q = query(collection(db, \"goals\"), where(\"userId\", \"==\", userId));\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map(doc => ({\n    id: doc.id,\n    ...doc.data()\n  }));\n};\n\n// Оновлення цілі\nexport const updateGoal = async (id, updates) => {\n  await updateDoc(doc(db, \"goals\", id), updates);\n};\n\n// Видалення цілі\nexport const deleteGoal = async id => {\n  await deleteDoc(doc(db, \"goals\", id));\n};","map":{"version":3,"names":["v4","uuidv4","collection","doc","setDoc","getDoc","getDocs","updateDoc","deleteDoc","query","where","db","createGoal","goal","id","goalWithId","goalRef","getGoalById","docRef","snap","exists","data","getUserGoals","userId","q","snapshot","docs","map","updateGoal","updates","deleteGoal"],"sources":["/Users/antoninapetrykovych/Desktop/арпорло/ttonkks.githup.io/lab4/src/firebase/goalService.js"],"sourcesContent":["// src/firebase/goalService.js\nimport { v4 as uuidv4 } from 'uuid';  // Імпортуємо uuid\nimport {\n  collection,\n  doc,\n  setDoc,  // Використовуємо setDoc, щоб задати ID вручну\n  getDoc,\n  getDocs,\n  updateDoc,\n  deleteDoc,\n  query,\n  where,\n} from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\n// Створення нової цілі\nexport const createGoal = async (goal) => {\n  const id = uuidv4(); // Генерація унікального ID за допомогою uuid\n  const goalWithId = { ...goal, id }; // Додаємо id до об'єкта цілі\n  const goalRef = doc(db, \"goals\", id); // Одержуємо посилання на документ з бажаним ID\n  await setDoc(goalRef, goalWithId); // Додаємо ціль у Firestore з явно заданим ID\n  return { id, ...goalWithId }; // Повертаємо згенеровану ціль з ID\n};\n\n// Отримання цілі за ID\nexport const getGoalById = async (id) => {\n  const docRef = doc(db, \"goals\", id);\n  const snap = await getDoc(docRef);\n  return snap.exists() ? { id, ...snap.data() } : null;\n};\n\n// Отримання всіх цілей користувача\nexport const getUserGoals = async (userId) => {\n  const q = query(collection(db, \"goals\"), where(\"userId\", \"==\", userId));\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n};\n\n// Оновлення цілі\nexport const updateGoal = async (id, updates) => {\n  await updateDoc(doc(db, \"goals\", id), updates);\n};\n\n// Видалення цілі\nexport const deleteGoal = async (id) => {\n  await deleteDoc(doc(db, \"goals\", id));\n};\n"],"mappings":"AAAA;AACA,SAASA,EAAE,IAAIC,MAAM,QAAQ,MAAM,CAAC,CAAE;AACtC,SACEC,UAAU,EACVC,GAAG,EACHC,MAAM;AAAG;AACTC,MAAM,EACNC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTC,KAAK,EACLC,KAAK,QACA,oBAAoB;AAC3B,SAASC,EAAE,QAAQ,YAAY;;AAE/B;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOC,IAAI,IAAK;EACxC,MAAMC,EAAE,GAAGb,MAAM,CAAC,CAAC,CAAC,CAAC;EACrB,MAAMc,UAAU,GAAG;IAAE,GAAGF,IAAI;IAAEC;EAAG,CAAC,CAAC,CAAC;EACpC,MAAME,OAAO,GAAGb,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEG,EAAE,CAAC,CAAC,CAAC;EACtC,MAAMV,MAAM,CAACY,OAAO,EAAED,UAAU,CAAC,CAAC,CAAC;EACnC,OAAO;IAAED,EAAE;IAAE,GAAGC;EAAW,CAAC,CAAC,CAAC;AAChC,CAAC;;AAED;AACA,OAAO,MAAME,WAAW,GAAG,MAAOH,EAAE,IAAK;EACvC,MAAMI,MAAM,GAAGf,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEG,EAAE,CAAC;EACnC,MAAMK,IAAI,GAAG,MAAMd,MAAM,CAACa,MAAM,CAAC;EACjC,OAAOC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG;IAAEN,EAAE;IAAE,GAAGK,IAAI,CAACE,IAAI,CAAC;EAAE,CAAC,GAAG,IAAI;AACtD,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAG,MAAOC,MAAM,IAAK;EAC5C,MAAMC,CAAC,GAAGf,KAAK,CAACP,UAAU,CAACS,EAAE,EAAE,OAAO,CAAC,EAAED,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEa,MAAM,CAAC,CAAC;EACvE,MAAME,QAAQ,GAAG,MAAMnB,OAAO,CAACkB,CAAC,CAAC;EACjC,OAAOC,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAExB,GAAG,KAAM;IAAEW,EAAE,EAAEX,GAAG,CAACW,EAAE;IAAE,GAAGX,GAAG,CAACkB,IAAI,CAAC;EAAE,CAAC,CAAC,CAAC;AACpE,CAAC;;AAED;AACA,OAAO,MAAMO,UAAU,GAAG,MAAAA,CAAOd,EAAE,EAAEe,OAAO,KAAK;EAC/C,MAAMtB,SAAS,CAACJ,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEG,EAAE,CAAC,EAAEe,OAAO,CAAC;AAChD,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOhB,EAAE,IAAK;EACtC,MAAMN,SAAS,CAACL,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEG,EAAE,CAAC,CAAC;AACvC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}