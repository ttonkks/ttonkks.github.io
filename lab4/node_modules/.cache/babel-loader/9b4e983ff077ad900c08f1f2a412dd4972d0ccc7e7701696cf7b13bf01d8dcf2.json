{"ast":null,"code":"// File: src/firebase/filestore.js\nimport { collection, doc, addDoc, getDoc, getDocs, updateDoc, deleteDoc, query, where } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\n// ðŸ”¹ Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð½Ð¾Ð²Ñƒ Ñ†Ñ–Ð»ÑŒ\nexport const createGoal = async goal => {\n  const docRef = await addDoc(collection(db, \"goals\"), goal);\n  return {\n    id: docRef.id,\n    ...goal\n  };\n};\n\n// ðŸ”¹ ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð¾Ð´Ð½Ñƒ Ñ†Ñ–Ð»ÑŒ\nexport const getGoalById = async id => {\n  const docRef = doc(db, \"goals\", id);\n  const snap = await getDoc(docRef);\n  if (snap.exists()) return {\n    id,\n    ...snap.data()\n  };\n  return null;\n};\n\n// ðŸ”¹ ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð²ÑÑ– Ñ†Ñ–Ð»Ñ– Ð´Ð»Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°\nexport const getUserGoals = async userId => {\n  const q = query(collection(db, \"goals\"), where(\"userId\", \"==\", userId));\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map(doc => ({\n    id: doc.id,\n    ...doc.data()\n  }));\n};\n\n// ðŸ”¹ ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ Ñ†Ñ–Ð»ÑŒ\nexport const updateGoal = async (id, updates) => {\n  const docRef = doc(db, \"goals\", id);\n  await updateDoc(docRef, updates);\n};\n\n// ðŸ”¹ Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸ Ñ†Ñ–Ð»ÑŒ\nexport const deleteGoal = async id => {\n  const docRef = doc(db, \"goals\", id);\n  await deleteDoc(docRef);\n};","map":{"version":3,"names":["collection","doc","addDoc","getDoc","getDocs","updateDoc","deleteDoc","query","where","db","createGoal","goal","docRef","id","getGoalById","snap","exists","data","getUserGoals","userId","q","snapshot","docs","map","updateGoal","updates","deleteGoal"],"sources":["/Users/antoninapetrykovych/Desktop/Ð°Ñ€Ð¿Ð¾Ñ€Ð»Ð¾/ttonkks.githup.io/lab4/src/firebase/filestore.js"],"sourcesContent":["// File: src/firebase/filestore.js\nimport {\n    collection,\n    doc,\n    addDoc,\n    getDoc,\n    getDocs,\n    updateDoc,\n    deleteDoc,\n    query,\n    where,\n  } from \"firebase/firestore\";\n  import { db } from \"./firebase\";\n  \n  // ðŸ”¹ Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð½Ð¾Ð²Ñƒ Ñ†Ñ–Ð»ÑŒ\n  export const createGoal = async (goal) => {\n    const docRef = await addDoc(collection(db, \"goals\"), goal);\n    return { id: docRef.id, ...goal };\n  };\n  \n  // ðŸ”¹ ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð¾Ð´Ð½Ñƒ Ñ†Ñ–Ð»ÑŒ\n  export const getGoalById = async (id) => {\n    const docRef = doc(db, \"goals\", id);\n    const snap = await getDoc(docRef);\n    if (snap.exists()) return { id, ...snap.data() };\n    return null;\n  };\n  \n  // ðŸ”¹ ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð²ÑÑ– Ñ†Ñ–Ð»Ñ– Ð´Ð»Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°\n  export const getUserGoals = async (userId) => {\n    const q = query(collection(db, \"goals\"), where(\"userId\", \"==\", userId));\n    const snapshot = await getDocs(q);\n    return snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n  };\n  \n  // ðŸ”¹ ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ Ñ†Ñ–Ð»ÑŒ\n  export const updateGoal = async (id, updates) => {\n    const docRef = doc(db, \"goals\", id);\n    await updateDoc(docRef, updates);\n  };\n  \n  // ðŸ”¹ Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸ Ñ†Ñ–Ð»ÑŒ\n  export const deleteGoal = async (id) => {\n    const docRef = doc(db, \"goals\", id);\n    await deleteDoc(docRef);\n  };\n  "],"mappings":"AAAA;AACA,SACIA,UAAU,EACVC,GAAG,EACHC,MAAM,EACNC,MAAM,EACNC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTC,KAAK,EACLC,KAAK,QACA,oBAAoB;AAC3B,SAASC,EAAE,QAAQ,YAAY;;AAE/B;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOC,IAAI,IAAK;EACxC,MAAMC,MAAM,GAAG,MAAMV,MAAM,CAACF,UAAU,CAACS,EAAE,EAAE,OAAO,CAAC,EAAEE,IAAI,CAAC;EAC1D,OAAO;IAAEE,EAAE,EAAED,MAAM,CAACC,EAAE;IAAE,GAAGF;EAAK,CAAC;AACnC,CAAC;;AAED;AACA,OAAO,MAAMG,WAAW,GAAG,MAAOD,EAAE,IAAK;EACvC,MAAMD,MAAM,GAAGX,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEI,EAAE,CAAC;EACnC,MAAME,IAAI,GAAG,MAAMZ,MAAM,CAACS,MAAM,CAAC;EACjC,IAAIG,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE,OAAO;IAAEH,EAAE;IAAE,GAAGE,IAAI,CAACE,IAAI,CAAC;EAAE,CAAC;EAChD,OAAO,IAAI;AACb,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAG,MAAOC,MAAM,IAAK;EAC5C,MAAMC,CAAC,GAAGb,KAAK,CAACP,UAAU,CAACS,EAAE,EAAE,OAAO,CAAC,EAAED,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEW,MAAM,CAAC,CAAC;EACvE,MAAME,QAAQ,GAAG,MAAMjB,OAAO,CAACgB,CAAC,CAAC;EACjC,OAAOC,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAEtB,GAAG,KAAM;IAAEY,EAAE,EAAEZ,GAAG,CAACY,EAAE;IAAE,GAAGZ,GAAG,CAACgB,IAAI,CAAC;EAAE,CAAC,CAAC,CAAC;AACpE,CAAC;;AAED;AACA,OAAO,MAAMO,UAAU,GAAG,MAAAA,CAAOX,EAAE,EAAEY,OAAO,KAAK;EAC/C,MAAMb,MAAM,GAAGX,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEI,EAAE,CAAC;EACnC,MAAMR,SAAS,CAACO,MAAM,EAAEa,OAAO,CAAC;AAClC,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOb,EAAE,IAAK;EACtC,MAAMD,MAAM,GAAGX,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEI,EAAE,CAAC;EACnC,MAAMP,SAAS,CAACM,MAAM,CAAC;AACzB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}