{"ast":null,"code":"// firebase/firestore.js\nimport { collection, addDoc, getDocs, deleteDoc, doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\n// Додати нову ціль користувача\nexport const addGoalToFirestore = async (userId, goal) => {\n  try {\n    const goalWithUser = {\n      ...goal,\n      userId\n    };\n    const userGoalsCollection = collection(db, \"users\", userId, \"goals\");\n    const docRef = await addDoc(userGoalsCollection, goalWithUser);\n    return docRef.id;\n  } catch (e) {\n    console.error(\"Помилка додавання цілі: \", e);\n    throw e;\n  }\n};\n\n// Отримати цілі користувача\nexport const fetchGoals = async userId => {\n  try {\n    const userGoalsCollection = collection(db, \"users\", userId, \"goals\");\n    const querySnapshot = await getDocs(userGoalsCollection);\n    const goals = [];\n    querySnapshot.forEach(doc => {\n      goals.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n    return goals;\n  } catch (e) {\n    console.error(\"Помилка отримання цілей: \", e);\n    throw e;\n  }\n};\n\n// Видалити ціль користувача\nexport const deleteGoalFromFirestore = async (userId, goalId) => {\n  try {\n    const goalDoc = doc(db, \"users\", userId, \"goals\", String(goalId));\n    await deleteDoc(goalDoc);\n  } catch (e) {\n    console.error(\"Помилка видалення цілі: \", e);\n    throw e;\n  }\n};\n\n// Оновити статус виконання цілі\nexport const toggleGoalStatus = async (userId, updatedGoal) => {\n  try {\n    const goalRef = doc(db, \"users\", userId, \"goals\", String(updatedGoal.id));\n    await updateDoc(goalRef, {\n      completed: updatedGoal.completed\n    });\n  } catch (e) {\n    console.error(\"Помилка оновлення статусу цілі: \", e);\n    throw e;\n  }\n};","map":{"version":3,"names":["collection","addDoc","getDocs","deleteDoc","doc","updateDoc","db","addGoalToFirestore","userId","goal","goalWithUser","userGoalsCollection","docRef","id","e","console","error","fetchGoals","querySnapshot","goals","forEach","push","data","deleteGoalFromFirestore","goalId","goalDoc","String","toggleGoalStatus","updatedGoal","goalRef","completed"],"sources":["/Users/antoninapetrykovych/Desktop/арпорло/ttonkks.githup.io/lab4/src/firebase/firestore.js"],"sourcesContent":["// firebase/firestore.js\nimport { collection, addDoc, getDocs, deleteDoc, doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\n// Додати нову ціль користувача\nexport const addGoalToFirestore = async (userId, goal) => {\n  try {\n    const goalWithUser = { ...goal, userId };\n    const userGoalsCollection = collection(db, \"users\", userId, \"goals\");\n    const docRef = await addDoc(userGoalsCollection, goalWithUser);\n    return docRef.id;\n  } catch (e) {\n    console.error(\"Помилка додавання цілі: \", e);\n    throw e;\n  }\n};\n\n// Отримати цілі користувача\nexport const fetchGoals = async (userId) => {\n  try {\n    const userGoalsCollection = collection(db, \"users\", userId, \"goals\");\n    const querySnapshot = await getDocs(userGoalsCollection);\n    const goals = [];\n    querySnapshot.forEach((doc) => {\n      goals.push({ id: doc.id, ...doc.data() });\n    });\n    return goals;\n  } catch (e) {\n    console.error(\"Помилка отримання цілей: \", e);\n    throw e;\n  }\n};\n\n// Видалити ціль користувача\nexport const deleteGoalFromFirestore = async (userId, goalId) => {\n  try {\n    const goalDoc = doc(db, \"users\", userId, \"goals\", String(goalId));\n    await deleteDoc(goalDoc);\n  } catch (e) {\n    console.error(\"Помилка видалення цілі: \", e);\n    throw e;\n  }\n};\n\n// Оновити статус виконання цілі\nexport const toggleGoalStatus = async (userId, updatedGoal) => {\n  try {\n    const goalRef = doc(db, \"users\", userId, \"goals\", String(updatedGoal.id));\n    await updateDoc(goalRef, {\n      completed: updatedGoal.completed,\n    });\n  } catch (e) {\n    console.error(\"Помилка оновлення статусу цілі: \", e);\n    throw e;\n  }\n};"],"mappings":"AAAA;AACA,SAASA,UAAU,EAAEC,MAAM,EAAEC,OAAO,EAAEC,SAAS,EAAEC,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AAC3F,SAASC,EAAE,QAAQ,YAAY;;AAE/B;AACA,OAAO,MAAMC,kBAAkB,GAAG,MAAAA,CAAOC,MAAM,EAAEC,IAAI,KAAK;EACxD,IAAI;IACF,MAAMC,YAAY,GAAG;MAAE,GAAGD,IAAI;MAAED;IAAO,CAAC;IACxC,MAAMG,mBAAmB,GAAGX,UAAU,CAACM,EAAE,EAAE,OAAO,EAAEE,MAAM,EAAE,OAAO,CAAC;IACpE,MAAMI,MAAM,GAAG,MAAMX,MAAM,CAACU,mBAAmB,EAAED,YAAY,CAAC;IAC9D,OAAOE,MAAM,CAACC,EAAE;EAClB,CAAC,CAAC,OAAOC,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,CAAC,CAAC;IAC5C,MAAMA,CAAC;EACT;AACF,CAAC;;AAED;AACA,OAAO,MAAMG,UAAU,GAAG,MAAOT,MAAM,IAAK;EAC1C,IAAI;IACF,MAAMG,mBAAmB,GAAGX,UAAU,CAACM,EAAE,EAAE,OAAO,EAAEE,MAAM,EAAE,OAAO,CAAC;IACpE,MAAMU,aAAa,GAAG,MAAMhB,OAAO,CAACS,mBAAmB,CAAC;IACxD,MAAMQ,KAAK,GAAG,EAAE;IAChBD,aAAa,CAACE,OAAO,CAAEhB,GAAG,IAAK;MAC7Be,KAAK,CAACE,IAAI,CAAC;QAAER,EAAE,EAAET,GAAG,CAACS,EAAE;QAAE,GAAGT,GAAG,CAACkB,IAAI,CAAC;MAAE,CAAC,CAAC;IAC3C,CAAC,CAAC;IACF,OAAOH,KAAK;EACd,CAAC,CAAC,OAAOL,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,CAAC,CAAC;IAC7C,MAAMA,CAAC;EACT;AACF,CAAC;;AAED;AACA,OAAO,MAAMS,uBAAuB,GAAG,MAAAA,CAAOf,MAAM,EAAEgB,MAAM,KAAK;EAC/D,IAAI;IACF,MAAMC,OAAO,GAAGrB,GAAG,CAACE,EAAE,EAAE,OAAO,EAAEE,MAAM,EAAE,OAAO,EAAEkB,MAAM,CAACF,MAAM,CAAC,CAAC;IACjE,MAAMrB,SAAS,CAACsB,OAAO,CAAC;EAC1B,CAAC,CAAC,OAAOX,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,CAAC,CAAC;IAC5C,MAAMA,CAAC;EACT;AACF,CAAC;;AAED;AACA,OAAO,MAAMa,gBAAgB,GAAG,MAAAA,CAAOnB,MAAM,EAAEoB,WAAW,KAAK;EAC7D,IAAI;IACF,MAAMC,OAAO,GAAGzB,GAAG,CAACE,EAAE,EAAE,OAAO,EAAEE,MAAM,EAAE,OAAO,EAAEkB,MAAM,CAACE,WAAW,CAACf,EAAE,CAAC,CAAC;IACzE,MAAMR,SAAS,CAACwB,OAAO,EAAE;MACvBC,SAAS,EAAEF,WAAW,CAACE;IACzB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOhB,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEF,CAAC,CAAC;IACpD,MAAMA,CAAC;EACT;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}